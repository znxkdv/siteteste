<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de QR Code para Lucoin</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f8ff;
            text-align: center;
            padding: 50px;
        }
        h1 {
            color: #4CAF50;
        }
        #qrcode {
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ccc;
            background-color: #fff;
            border-radius: 8px;
        }
        input[type="number"] {
            padding: 10px;
            width: 200px;
            border: 1px solid #ccc;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #45a049;
        }
        .footer {
            margin-top: 20px;
            font-size: 12px;
            color: #777;
        }
    </style>
</head>
<body>
    <h1>Gerador de QR Code para Compra de Lucoin</h1>
    <input type="number" id="amount" placeholder="Valor em R$" required />
    <button id="generate">Gerar QR Code</button>
    <div id="qrcode"></div>
    <div class="footer">Powered by Suitpay API</div>

    <script>
        $(document).ready(function() {
            $("#generate").click(function() {
                const amount = $("#amount").val();
                const dueDate = "2024-10-07"; // Data de vencimento
                const requestNumber = "12345"; // Número do pedido
                const clientID = "znxkdv_1722980018383"; // Seu client ID
                const clientSecret = "4556d5be07656bd8d266fb867a251e9f124437c14387710178f9f8f31dadb6a363dffd4d67e64d8d9a18abab3da552f8"; // Seu client secret

                const data = {
                    requestNumber: requestNumber,
                    dueDate: dueDate,
                    amount: parseFloat(amount),
                    shippingAmount: 0.0,
                    discountAmount: 0.0,
                    usernameCheckout: "checkout",
                    callbackUrl: "https://webhook.com/",
                    client: {
                        name: "José da Silva",
                        document: "927.300.300-18",
                        phoneNumber: "62999815500",
                        email: "josesilva@gmail.com",
                        address: {
                            codIbge: "5208707",
                            street: "Rua Paraíba",
                            number: "150",
                            complement: "",
                            zipCode: "74663-520",
                            neighborhood: "Goiânia 2",
                            city: "Goiânia",
                            state: "GO"
                        }
                    },
                    products: [
                        {
                            description: "Criptomoeda Lucoin",
                            quantity: 1,
                            value: parseFloat(amount)
                        }
                    ]
                };

                $.ajax({
                    url: 'https://sandbox.ws.suitpay.app/api/v1/gateway/request-qrcode',
                    type: 'POST',
                    contentType: 'application/json',
                    headers: {
                        'ci': clientID,
                        'cs': clientSecret
                    },
                    data: JSON.stringify(data),
                    success: function(response) {
                        $("#qrcode").empty(); // Limpa QR Code anterior
                        $("#qrcode").qrcode(response.qrCodeUrl); // Assumindo que o URL do QR Code é retornado no campo qrCodeUrl
                    },
                    error: function() {
                        alert("Erro ao gerar código QR. Verifique os dados.");
                    }
                });
            });
        });
    </script>
</body>
</html>
